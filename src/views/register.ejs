<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bits</title>

    <link href="css/styles.css" rel="stylesheet">
    <link href="css/register.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/scripts.js"></script>

    
</head>
<body>
   <%- include('partials/header') %>
<div class="fondo-registro" style="background-image: url('img/register.jpg');">
    <h1>Registro</h1>
   <form action="/register" method="POST" enctype="multipart/form-data">
    
   <ul>    
    <li>
      <label for="name">Nombre</label>
      <input type="text" class="<%=locals.errors && errors.firstName ? 'fill' : null %>" name="firstName" 
      value="<%=locals.oldData ? oldData.firstName : null %>">
      <%if(locals.errors && errors.firstName){%>
        <div class="text-danger">
          Debes de escribir tu nombre con almenos 2 caracteres
        </div>
      <%}%>
    </li>
    <li>
      <label for="name">Apellido</label>
      <input type="text" id="lastName" name="lastName" class="<%=locals.errors && errors.lastName ? 'fill' : null %>"
      value="<%=locals.oldData ? oldData.lastName : null %>">
      <%if(locals.errors && errors.lastName){%>
          <div class="text-danger">
            Debes de escribir tu nombre con almenos 2 caracteres
          </div>
      <%}%>
    </li>
    <li>
      <label for="email">Correo electrónico:</label>
      <input type="email" id="mail" name="email" class="<%=locals.errors && errors.email ? 'fill' : null %>"
      value="<%=locals.oldData ? oldData.email : null %>"/>
      <%if(locals.errors && errors.email){%>
          <div class="text-danger">
            <%= errors.email.msg%>
            Escribe un email válido
          </div>
    <%}%>
    </li>
    <li>
      <label for="city">Ciudad:</label>
      <input type="city" multiple name="city" id="city" list="drawfemails2"  size="64" 
      placeholder="Seleccione ciudad o palabra clave" class="<%=locals.errors && errors.city ? 'fill' : null %>"
      value="<%=locals.oldData ? oldData.city : null %>">
            <%if(locals.errors && errors.city){%>
              <div class="text-danger">
                <%= errors.city.msg%>
              </div>
            <%}%>
            <% let ciudades=['CDMX', 'Guadalajara', 'Monterrey', 'Morelia', 'Leon', 'Queretaro', 'Ixtapa', 'Chihuahua',
            'Nayarit', 'Yucatan']%>
            <datalist id="drawfemails2">
                <%for(const city of ciudades){%>
                  <option value="<%=city%>"><%=city%></option>
                <%}%>

            </datalist>
    </li>
    <li>
      <label for="address">Dirección:</label>
      <input type="text" id="address" name="address" class="<%=locals.errors && errors.address ? 'fill' : null %>"
      value="<%=locals.oldData ? oldData.address : null %>">
      <%if(locals.errors && errors.address){%>
        <div class="text-danger">
          <%= errors.address.msg%>
        </div>
      <%}%>
    </li>
    <li>
      <label for="codigo_postal">Código postal:</label>
      <input type="text" id="codigo_postal" name="codigo_postal" class="<%=locals.errors && errors.codigo_postal ? 'fill' : null %>"
      value="<%=locals.oldData ? oldData.codigo_postal : null %>">
      <%if(locals.errors && errors.codigo_postal){%>
        <div class="text-danger">
          <%= errors.codigo_postal.msg%>
        </div>
      <%}%>
    </li>


    <li>
      <label for="image">Foto de perfil:</label>
      <input type="file" id="image" name="image" value="<%=locals.oldData ? oldData.image : null %>">
      <%if(locals.errors && errors.image){%>
        <div class="text-danger">
          <%= errors.image.msg%>
        </div>
      <%}%>
    </li>

    <li>
        <label for="password">Contraseña</label>
        <input type="password" id="pass" name="password" class="<%=locals.errors && errors.password ? 'fill' : null %>"
        value="<%=locals.oldData ? oldData.password : null %>">
        <%if(locals.errors && errors.password){%>
          <div class="text-danger">
            <!--<%= errors.password.msg%>-->
            Debes de escribir una contraseña con al menos 8 carácteres, mayusculas, números y simbolos
          </div>
        <%}%>
    </li>
    <li class="button-register">
      <button type="submit">Registrar</button>
    </li>
 </ul>
   </form>

</body>
</div>
</html>